{"ast":null,"code":"import React,{useState}from\"react\";import\"./css/Singup.css\";import{Link}from'react-router-dom';import axios from'axios';import validation from\"./Singvalidation\";import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Singup(){const[errorMessage,setErrorMessage]=useState(\"\");const[errors,setErrors]=useState({});const navigate=useNavigate();const[values,setValues]=useState({email:\"\",password:\"\",firstName:\"\",lastName:\"\",country:\"\",passport:\"\",password2:\"\"});const handleInput=event=>{setValues(prev=>({...prev,[event.target.name]:event.target.value}));};const handleSubmit=event=>{event.preventDefault();setErrors(validation(values));// Assuming this sets the errors state correctly\n// Validate that all required fields are present and have correct data types\nif(errors.firstName===\"\"&&errors.lastName===\"\"&&errors.country===\"\"&&errors.passport===\"\"&&errors.password===\"\"&&errors.email===\"\"&&errors.password2===\"\"){axios.post('http://localhost:8080/singup',values).then(res=>{// Check if the response contains an error indicating that the email already exists\nif(res.data.error&&res.data.error===\"Email already exists\"){setErrorMessage(\"Email already exists\");}else{navigate('/');}}).catch(err=>console.log(\"error\",err));}else{console.log(\"Some required fields are missing or invalid\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"signup-container\",children:/*#__PURE__*/_jsxs(\"form\",{method:\"post\",action:\"/signup\",className:\"signup-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",placeholder:\"Enter your first name\",onChange:handleInput}),\"  \",errors.firstName&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[errors.firstName,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",placeholder:\"Enter your last name\",onChange:handleInput}),errors.lastName&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[errors.lastName,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"country\",children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"country\",placeholder:\"Enter your country\",onChange:handleInput}),errors.country&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[errors.country,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"passport\",children:\"Passport/QID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"passport\",placeholder:\"Enter your passport or QID number\",onChange:handleInput}),errors.passport&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[errors.passport,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter your email\",onChange:handleInput}),errors.email&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[errors.email,\" \"]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errorMessage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter your password\",onChange:handleInput}),errors.password&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[errors.password,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password2\",children:\"Confirme Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password2\",placeholder:\"Confirme your password\",onChange:handleInput}),errors.password2&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-danger\",children:[errors.password2,\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sing Up\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"  Have an acount ?\",/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"sing\",children:\"  Sing In\"})]})]})});}export default Singup;","map":{"version":3,"names":["React","useState","Link","axios","validation","useNavigate","jsx","_jsx","jsxs","_jsxs","Singup","errorMessage","setErrorMessage","errors","setErrors","navigate","values","setValues","email","password","firstName","lastName","country","passport","password2","handleInput","event","prev","target","name","value","handleSubmit","preventDefault","post","then","res","data","error","catch","err","console","log","className","children","method","action","onSubmit","htmlFor","type","placeholder","onChange","to"],"sources":["C:/Users/Adam/Documents/GitHub/login/frontend/src/Singup.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./css/Singup.css\";\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport  validation  from  \"./Singvalidation\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\n\r\nfunction Singup() {\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const [errors, setErrors] = useState({});\r\n    \r\n    const navigate = useNavigate();\r\n    const [values, setValues] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n        firstName:\"\",\r\n        lastName:\"\",\r\n        country:\"\",\r\n        passport:\"\",\r\n        password2:\"\"\r\n        \r\n\r\n    });\r\n    \r\n\r\n    const handleInput = (event) => {\r\n        setValues(prev => ({...prev, [event.target.name]: event.target.value }));\r\n        \r\n    };\r\n   \r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        setErrors(validation(values)); // Assuming this sets the errors state correctly\r\n    \r\n        // Validate that all required fields are present and have correct data types\r\n        if (errors.firstName === \"\" && errors.lastName === \"\" && errors.country === \"\" && errors.passport === \"\" && errors.password === \"\" && errors.email === \"\" && errors.password2 === \"\") {\r\n            axios.post('http://localhost:8080/singup', values)\r\n                .then(res => {\r\n                    // Check if the response contains an error indicating that the email already exists\r\n                    if (res.data.error && res.data.error === \"Email already exists\") {\r\n                        setErrorMessage(\"Email already exists\");\r\n                    } else {\r\n                        navigate('/');\r\n                    }\r\n                })\r\n                .catch(err => console.log(\"error\", err));\r\n        } else {\r\n            console.log(\"Some required fields are missing or invalid\");\r\n        }\r\n    }\r\n    \r\n    \r\n    return (\r\n        <div className=\"signup-container\">\r\n            <form method=\"post\" action=\"/signup\" className=\"signup-form\" onSubmit={handleSubmit}>\r\n                <h2>Sign Up</h2>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"firstName\">First Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                       name='firstName'\r\n                        placeholder=\"Enter your first name\"\r\n                        \r\n                        onChange={handleInput}\r\n                        \r\n                    />  {errors.firstName && <span className=\"text-danger\">{errors.firstName} </span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"lastName\">Last Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                       \r\n                        name='lastName'\r\n                        placeholder=\"Enter your last name\"\r\n                       \r\n                        onChange={handleInput}\r\n                        \r\n                    />{errors.lastName && <span className=\"text-danger\">{errors.lastName} </span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"country\">Country</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name='country'\r\n                        placeholder=\"Enter your country\"\r\n                        \r\n                        onChange={handleInput}\r\n                      \r\n                    />{errors.country && <span className=\"text-danger\">{errors.country} </span>}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"passport\">Passport/QID</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name='passport'\r\n                        placeholder=\"Enter your passport or QID number\"\r\n                       \r\n                        onChange={handleInput}\r\n                        \r\n                    />{errors.passport && <span className=\"text-danger\">{errors.passport} </span>}\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        name='email'\r\n                        placeholder=\"Enter your email\"\r\n                        \r\n                        onChange={handleInput}\r\n                        \r\n                    />{errors.email && <span className=\"text-danger\">{errors.email} </span>}\r\n                            {errorMessage && <p className=\"text-danger\">{errorMessage}</p>}\r\n\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        name='password'\r\n                        placeholder=\"Enter your password\"\r\n                        \r\n                        onChange={handleInput}\r\n                        \r\n                    />{errors.password && <span className=\"text-danger\">{errors.password} </span>}\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label htmlFor=\"password2\">Confirme Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        name='password2'\r\n                        placeholder=\"Confirme your password\"\r\n                        \r\n                        onChange={handleInput}\r\n                        \r\n                    />{errors.password2 && <span className=\"text-danger\">{errors.password2} </span>}\r\n                </div>\r\n                <button type=\"submit\">Sing Up</button>\r\n               <p>  Have an acount ?<Link to =\"/\" className=\"sing\" >  Sing In</Link></p> \r\n        </form>\r\n     </div>\r\n    );\r\n}\r\nexport default Singup;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}